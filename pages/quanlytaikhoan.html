<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Qu·∫£n L√Ω T√†i Kho·∫£n - Qu·∫£n L√Ω L·ªãch B√°c Sƒ©</title>
    <link rel="stylesheet" href="../assets/css/common.css">
</head>
<body data-current-tab="quanlytaikhoan">
    <div class="container">
        <div id="header-placeholder"></div>
        <div id="quanlytaikhoan" class="tab-content active admin-only">
            <div class="form-container">
                <h2>üë§ Qu·∫£n L√Ω T√†i Kho·∫£n</h2>
                
                <div class="submissions-list">
                    <h3>üìã Danh S√°ch T√†i Kho·∫£n B√°c Sƒ©</h3>
                    <div id="accountList">
                        <div class="empty-state">Ch∆∞a c√≥ t√†i kho·∫£n n√†o</div>
                    </div>
                </div>

                <div class="submissions-list">
                    <h3>üîî Y√™u C·∫ßu Reset M·∫≠t Kh·∫©u</h3>
                    <div id="passwordRequestList">
                        <div class="empty-state">Ch∆∞a c√≥ y√™u c·∫ßu n√†o</div>
                    </div>
                </div>

                <!-- Ph√¢n Quy·ªÅn (Admin Only) -->
                <div class="submissions-list admin-backup-only">
                    <h3>üîê Ph√¢n Quy·ªÅn Ch·ªânh S·ª≠a</h3>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea;">
                        <p style="margin-bottom: 15px; color: #333;">Qu·∫£n l√Ω quy·ªÅn ch·ªânh s·ª≠a d·ªØ li·ªáu cho t·ª´ng b√°c sƒ© ·ªü t·ª´ng tab/n√∫t c·ª• th·ªÉ.</p>
                        <button class="add-btn" onclick="openPermissionsModal()" style="background: #9b59b6;">üîê Qu·∫£n L√Ω Ph√¢n Quy·ªÅn</button>
                    </div>
                </div>

                <!-- Backup & Restore Data (Admin Only) -->
                <div class="submissions-list admin-backup-only">
                    <h3>üíæ Sao L∆∞u & Kh√¥i Ph·ª•c D·ªØ Li·ªáu</h3>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea;">
                        <p style="margin-bottom: 15px; color: #333;">Xu·∫•t t·∫•t c·∫£ d·ªØ li·ªáu ƒë·ªÉ sao l∆∞u ho·∫∑c kh√¥i ph·ª•c d·ªØ li·ªáu t·ª´ file ƒë√£ xu·∫•t.</p>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="add-btn" onclick="exportAllData()" style="background: #27ae60;">üì• Xu·∫•t D·ªØ Li·ªáu (Export)</button>
                            <label class="add-btn" style="background: #3498db; cursor: pointer; margin: 0;">
                                üì§ Nh·∫≠p D·ªØ Li·ªáu (Import)
                                <input type="file" accept=".json" onchange="importAllData(event)" style="display: none;">
                            </label>
                            <button class="add-btn" onclick="openClearDataPasswordModal()" style="background: #e74c3c;">‚ö†Ô∏è X√≥a T·∫•t C·∫£ D·ªØ Li·ªáu</button>
                        </div>
                        <p style="margin-top: 15px; font-size: 12px; color: #666;">
                            <strong>L∆∞u √Ω:</strong> D·ªØ li·ªáu ƒë∆∞·ª£c t·ª± ƒë·ªông l∆∞u v√†o tr√¨nh duy·ªát. Xu·∫•t d·ªØ li·ªáu ƒë·ªÉ sao l∆∞u an to√†n. 
                            Nh·∫≠p d·ªØ li·ªáu s·∫Ω thay th·∫ø to√†n b·ªô d·ªØ li·ªáu hi·ªán t·∫°i.
                        </p>
                    </div>
                </div>

                <!-- Debug panel (admin only) -->
                <div class="submissions-list admin-debug-only">
                    <h3>üõ†Ô∏è Debug: LocalStorage</h3>
                    <div id="debugPanel" class="debug-panel">
                        <div class="debug-controls">
                            <button class="add-btn" onclick="renderDebugInfo()">üîÑ L√†m m·ªõi</button>
                            <button class="add-btn" onclick="copyDebugInfo()">üìã Sao ch√©p</button>
                            <button class="add-btn" onclick="clearDebugOutput()">üßπ X√≥a</button>
                        </div>
                        <pre id="debugOutput" class="debug-pre">(Nh·∫•n "L√†m m·ªõi" ƒë·ªÉ t·∫£i d·ªØ li·ªáu)</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../assets/js/header.js"></script>
    <script src="../assets/js/app.js"></script>
</body>
</html>
