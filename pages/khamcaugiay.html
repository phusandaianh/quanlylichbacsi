<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>L·ªãch kh√°m C·∫ßu Gi·∫•y - Qu·∫£n L√Ω L·ªãch B√°c Sƒ©</title>
    <link rel="stylesheet" href="../assets/css/common.css">
</head>
<body data-current-tab="khamcaugiay">
    <div class="container">
        <div id="header-placeholder"></div>
        <div id="khamcaugiay" class="tab-content active admin-only">
            <div class="form-container">
                <h2>L·ªãch kh√°m C·∫ßu Gi·∫•y</h2>
                <p>Qu·∫£n l√Ω l·ªãch kh√°m t·∫°i c∆° s·ªü C·∫ßu Gi·∫•y 6 ph√≤ng kh√°m</p>
                <div class="buttons-container" style="display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px; padding:12px 0; border-bottom:1px solid #e8e8e8;">
                    <button class="export-pdf-btn" onclick="openKhamCauGiayDoctorListModal()">üë®‚Äç‚öïÔ∏è Danh s√°ch b√°c sƒ© kh√°m C·∫ßu Gi·∫•y</button>
                    <button class="export-pdf-btn" onclick="openKhamCauGiayRoomsModal()">üè• Qu·∫£n l√Ω ph√≤ng kh√°m</button>
                    <button class="export-pdf-btn" onclick="openExportKhamCauGiayPDFModal()">üìÑ Xu·∫•t PDF theo tu·∫ßn</button>
                </div>
                <div style="margin-top: 20px;">
                    <div id="khamcaugiayCalendarContainer" style="display:flex; gap:20px; flex-wrap:wrap; max-width: 100%; overflow-x: auto;"></div>
                </div>
                <div id="khamCauGiayDoctorListModal" class="login-modal">
                    <div class="login-box" style="max-width: 500px; max-height: 80vh; overflow-y: auto;">
                        <div class="login-header">
                            <h2>üë®‚Äç‚öïÔ∏è Danh s√°ch b√°c sƒ© kh√°m C·∫ßu Gi·∫•y</h2>
                            <button class="login-close" onclick="closeKhamCauGiayDoctorListModal()">‚úï</button>
                        </div>
                        <div style="padding: 20px;">
                            <p style="font-size: 13px; color: #666; margin-bottom: 15px;">Tick ch·ªçn c√°c b√°c sƒ© c√≥ th·ªÉ kh√°m t·∫°i C·∫ßu Gi·∫•y.</p>
                            <div id="khamCauGiayDoctorListContainer" style="max-height: 400px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px; padding: 12px; background: #f8f9fa;"></div>
                        </div>
                        <div style="padding: 20px; border-top: 1px solid #eee; display: flex; gap: 10px; justify-content: flex-end;">
                            <button class="delete-btn" onclick="closeKhamCauGiayDoctorListModal()">H·ªßy</button>
                            <button class="submit-btn" onclick="saveKhamCauGiayDoctorList()">üíæ L∆∞u</button>
                        </div>
                    </div>
                </div>
                <!-- Modal xu·∫•t PDF l·ªãch kh√°m theo tu·∫ßn -->
                <div id="exportKhamCauGiayPDFModal" class="login-modal">
                    <div class="login-box" style="max-width: 420px;">
                        <div class="login-header">
                            <h2>üìÑ Xu·∫•t PDF l·ªãch kh√°m C·∫ßu Gi·∫•y</h2>
                            <button class="login-close" onclick="closeExportKhamCauGiayPDFModal()">‚úï</button>
                        </div>
                        <div style="padding: 20px;">
                            <p style="margin-bottom: 16px; color: #666; font-size: 14px;">Ch·ªçn ng√†y trong tu·∫ßn c·∫ßn xu·∫•t (T2 - CN):</p>
                            <div style="margin-bottom: 12px;">
                                <label style="display: block; font-weight: 600; margin-bottom: 6px; font-size: 13px;">Ng√†y</label>
                                <input type="date" id="exportKhamCauGiayDate" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px;">
                            </div>
                            <p id="exportKhamCauGiayWeekPreview" style="font-size: 12px; color: #667eea; margin-top: 8px;"></p>
                        </div>
                        <div style="padding: 20px; border-top: 1px solid #eee; display: flex; gap: 10px; justify-content: flex-end;">
                            <button class="delete-btn" onclick="closeExportKhamCauGiayPDFModal()">H·ªßy</button>
                            <button class="submit-btn" onclick="doExportKhamCauGiayPDF()">üìÑ Xu·∫•t PDF</button>
                        </div>
                    </div>
                </div>
                <div id="khamCauGiayRoomsModal" class="login-modal">
                    <div class="login-box" style="max-width: 600px; max-height: 85vh; overflow-y: auto;">
                        <div class="login-header">
                            <h2>üè• Qu·∫£n l√Ω ph√≤ng kh√°m C·∫ßu Gi·∫•y</h2>
                            <button class="login-close" onclick="closeKhamCauGiayRoomsModal()">‚úï</button>
                        </div>
                        <div style="padding: 20px;">
                            <p style="font-size: 13px; color: #666; margin-bottom: 15px;">Th√™m ph√≤ng m·ªõi, ƒë·ªïi t√™n ph√≤ng. T√≠ch ch·ªçn Kh√°m tr∆∞a v√†/ho·∫∑c Kh√°m 20h cho t·ª´ng ph√≤ng.</p>
                            <div id="khamCauGiayRoomsList" style="margin-bottom: 15px;"></div>
                            <button class="add-btn" onclick="addKhamCauGiayRoom()" style="margin-top: 10px;">‚ûï Th√™m ph√≤ng</button>
                        </div>
                        <div style="padding: 20px; border-top: 1px solid #eee; display: flex; gap: 10px; justify-content: flex-end;">
                            <button class="delete-btn" onclick="closeKhamCauGiayRoomsModal()">H·ªßy</button>
                            <button class="submit-btn" onclick="saveKhamCauGiayRooms()">üíæ L∆∞u</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="../assets/js/header.js"></script>
    <script src="../assets/js/app.js"></script>
</body>
</html>
